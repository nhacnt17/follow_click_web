<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ghi nh·∫≠n truy c·∫≠p ·∫©n danh</title>
</head>
<body>
  <h1>üî• Ch√†o b·∫°n ƒë·∫øn v·ªõi FollowClickWeb</h1>
  <p>L∆∞·ª£t truy c·∫≠p c·ªßa b·∫°n ƒëang ƒë∆∞·ª£c ghi nh·∫≠n v√†o Firebase...</p>

  <script type="module">
    import { db, collection, addDoc } from './firebase.js';  <!-- ‚úÖ Import ƒë√∫ng th∆∞ m·ª•c -->

    // T·∫°o visitor ID ·∫©n danh n·∫øu ch∆∞a c√≥
    if (!localStorage.getItem('visitor_id')) {
      localStorage.setItem('visitor_id', crypto.randomUUID());
    }

    const visitorId = localStorage.getItem('visitor_id');
    const visitTime = new Date().toISOString();
    const userAgent = navigator.userAgent;
    const screenSize = `${window.screen.width}x${window.screen.height}`;

    try {
      await addDoc(collection(db, "visits"), {
        visitorId,
        visitTime,
        userAgent,
        screenSize
      });
      console.log("‚úÖ Visit tracked!");
    } catch (e) {
      console.error("‚ùå Error tracking visit: ", e);
    }
  </script>
</body>
</html>
